<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="initial-scale=1, maximum-scale=1, user-scalable=no"
    />
    <title>ArcGIS API for JavaScript Tutorials: Display a map</title>

    <style>
      html,
      body,
      #viewDiv {
        padding: 0;
        margin: 0;
        height: 100%;
        width: 100%;
      }
    </style>

    <link
      rel="stylesheet"
      href="https://js.arcgis.com/4.22/esri/themes/light/main.css"
    />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.24.0/axios.min.js"
      integrity="sha512-u9akINsQsAkG9xjc1cnGF4zw5TFDwkxuc9vUp5dltDWYCSmyd0meygbvgXrlc/z7/o4a19Fb5V0OUE58J7dcyw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script src="https://js.arcgis.com/4.22/"></script>

    <script>
      var id = localStorage.getItem("id");
      console.log(id);
      axios
        .get(
          "http://localhost:8000/user/project/details/61d56163afa9fbfa83a6b798"
        )
        .then((res) => {
          res.data.map((info) => {
            require([
              "esri/config",
              "esri/Map",
              "esri/views/MapView",
            ], function (esriConfig, Map, MapView) {
              esriConfig.apiKey = "YOUR_API_KEY";

              const map = new Map({
                basemap: info.baseMap, // Basemap layer service
              });

              const view = new MapView({
                map: map,
                center: [-118.805, 34.027], // Longitude, latitude
                zoom: 13, // Zoom level
                container: "viewDiv", // Div element
              });
            });
          });
        });
    </script>
  </head>
  <body>
    <div id="viewDiv"></div>
  </body>
</html>
